!function(t){"use strict";function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function i(t,i){this.el=t,this.animEffectsOut=["moveUpOut","moveDownOut","slideUpOut","slideDownOut","slideLeftOut","slideRightOut"],this.animEffectsIn=["moveUpIn","moveDownIn","slideUpIn","slideDownIn","slideLeftIn","slideRightIn"],this.items=this.el.querySelector("ol.slides").children,this.itemsCount=this.items.length,this.itemsCount&&(this.current=0,this.options=e({},this.options),e(this.options,i),this._init())}Modernizr.addTest("csstransformspreserve3d",function(){var e,i=Modernizr.prefixed("transformStyle"),n="preserve-3d";return i?(i=i.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+i+":"+n+";}",function(n){e=t.getComputedStyle?getComputedStyle(n,null).getPropertyValue(i):""}),e===n):!1});var n={animations:Modernizr.cssanimations,preserve3d:Modernizr.csstransformspreserve3d,transforms3d:Modernizr.csstransforms3d},s=n.animations&&n.preserve3d&&n.transforms3d,r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},o=r[Modernizr.prefixed("animation")];i.prototype.options={},i.prototype._init=function(){this._addNavigation(),this._initEvents()},i.prototype._addNavigation=function(){this.nav=document.createElement("nav");for(var t="",e=0;e<this.itemsCount;++e)t+=0===e?'<span class="current"></span>':"<span></span>";this.nav.innerHTML=t,this.el.appendChild(this.nav),this.navDots=[].slice.call(this.nav.children)},i.prototype._initEvents=function(){var t=this;this.navDots.forEach(function(e,i){e.addEventListener("click",function(){i!==t.current&&t._showItem(i)})})},i.prototype._showItem=function(t){if(this.isAnimating)return!1;this.isAnimating=!0,classie.removeClass(this.navDots[this.current],"current");var e=this,i=this.items[this.current];this.current=t;var n=this.items[this.current],r=this.animEffectsOut[Math.floor(Math.random()*this.animEffectsOut.length)],a=this.animEffectsIn[Math.floor(Math.random()*this.animEffectsOut.length)];i.setAttribute("data-effect-out",r),n.setAttribute("data-effect-in",a),classie.addClass(this.navDots[this.current],"current");var d=0,c=i.querySelector(".tiltview").children.length,h=n.querySelector(".tiltview").children.length,l=0,u=0,m=function(){++d,2===d&&(e.isAnimating=!1)},f=function(){++l;var t=function(){classie.removeClass(i,"hide"),classie.removeClass(i,"current"),m()};s?l===c&&(i.removeEventListener(o,f),t()):t()},v=function(){++u;var t=function(){classie.removeClass(n,"show"),classie.addClass(n,"current"),m()};s?u===h&&(n.removeEventListener(o,v),t()):t()};classie.addClass(i,"hide"),classie.addClass(n,"show"),s?(i.addEventListener(o,f),n.addEventListener(o,v)):(f(),v())},t.TiltSlider=i}(window);